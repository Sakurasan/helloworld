---
kind: pipeline
name: default

steps:
# - name: build
#   image: golang:latest
#   commands:
#     - "pwd"
#     - "cd helloworld"

- name: docker  
  image: plugins/docker
  settings:
    username:
      from_secret: docker_username
    password:
      from_secret: docker_password
    repo: mirrors2/helloworld
    commands:
      - "pwd && ls"
    context: helloworld
    dockerfile: Dockerfile
    tags:
    - latest

trigger:
  branch:
    - master
  event:
    - pull_request
    - push